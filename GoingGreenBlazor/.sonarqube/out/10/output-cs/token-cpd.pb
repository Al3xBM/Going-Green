ž?
PD:\Git Repos\Going-Green\OrderTrackingService\Controllers\OrderInfoController.cs
	namespace 	 
OrderTrackingService
 
. 
Controllers *
{ 
[ 
Route 

(
 
$str  
)  !
]! "
[ 
ApiController 
] 
public 

class 
OrderInfoController $
:% &

Controller' 1
{ 
public 
DataContext 
_context #
{$ %
get& )
;) *
}+ ,
public 
OrderInfoController "
(" #
DataContext# .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
< 
IEnumerable '
<' (
	OrderInfo( 1
>1 2
>2 3
GetAll4 :
(: ;
); <
{ 	
try 
{ 
return 
Ok 
( 
_context "
." #
Orders# )
)) *
;* +
} 
catch 
( 
	Exception 
ex 
)  
{ 
throw   
new   
	Exception   #
(  # $
$"  $ &'
Couldn't retrive entities:   & A
{  A B
ex  B D
.  D E
Message  E L
}  L M
"  M N
)  N O
;  O P
}!! 
}"" 	
[$$ 	
HttpGet$$	 
($$ 
$str$$ 
)$$ 
]$$ 
public%% 
async%% 
Task%% 
<%% 
ActionResult%% &
<%%& '
	OrderInfo%%' 0
>%%0 1
>%%1 2
GetById%%3 :
(%%: ;
Guid%%; ?
id%%@ B
)%%B C
{&& 	
if'' 
('' 
id'' 
=='' 
Guid'' 
.'' 
Empty''  
)''  !
{(( 
throw)) 
new)) 
ArgumentException)) +
())+ ,
$")), .
{)). /
nameof))/ 5
())5 6
GetById))6 =
)))= >
}))> ?!
 id must not be empty))? T
"))T U
)))U V
;))V W
}** 
try++ 
{,, 
return-- 
Ok-- 
(-- 
await-- 
_context--  (
.--( )
	FindAsync--) 2
<--2 3
	OrderInfo--3 <
>--< =
(--= >
id--> @
)--@ A
)--A B
;--B C
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
throw22 
new22 
	Exception22 #
(22# $
$"22$ &%
Couldn't retrive entity: 22& ?
{22? @
ex22@ B
.22B C
Message22C J
}22J K
"22K L
)22L M
;22M N
}33 
}44 	
[66 	
HttpPut66	 
]66 
public77 
async77 
Task77 
<77 
ActionResult77 &
<77& '
	OrderInfo77' 0
>770 1
>771 2
UpdateAsync773 >
(77> ?
	OrderInfo77? H
order77I N
)77N O
{88 	
if99 
(99 
order99 
==99 
null99 
)99 
{:: 
throw;; 
new;; !
ArgumentNullException;; /
(;;/ 0
$";;0 2
{;;2 3
nameof;;3 9
(;;9 :
UpdateAsync;;: E
);;E F
};;F G$
 entity must not be null;;G _
";;_ `
);;` a
;;;a b
}<< 
try== 
{>> 
_context?? 
.?? 
Update?? 
(??  
order??  %
)??% &
;??& '
await@@ 
_context@@ 
.@@ 
SaveChangesAsync@@ /
(@@/ 0
)@@0 1
;@@1 2
returnAA 
OkAA 
(AA 
orderAA 
)AA  
;AA  !
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
throwEE 
newEE 
	ExceptionEE #
(EE# $
$"EE$ &
{EE& '
nameofEE' -
(EE- .
UpdateAsyncEE. 9
)EE9 :
}EE: ;!
 could not be update:EE; P
{EEP Q
exEEQ S
.EES T
MessageEET [
}EE[ \
"EE\ ]
)EE] ^
;EE^ _
}FF 
}GG 	
[II 	

HttpDeleteII	 
]II 
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
ActionResultJJ &
<JJ& '
	OrderInfoJJ' 0
>JJ0 1
>JJ1 2
DeleteAsyncJJ3 >
(JJ> ?
	OrderInfoJJ? H
orderJJI N
)JJN O
{KK 	
ifLL 
(LL 
orderLL 
==LL 
nullLL 
)LL 
{MM 
throwNN 
newNN !
ArgumentNullExceptionNN /
(NN/ 0
$"NN0 2
{NN2 3
nameofNN3 9
(NN9 :
DeleteAsyncNN: E
)NNE F
}NNF G$
 entity must not be nullNNG _
"NN_ `
)NN` a
;NNa b
}OO 
tryPP 
{QQ 
_contextRR 
.RR 
RemoveRR 
(RR  
orderRR  %
)RR% &
;RR& '
awaitSS 
_contextSS 
.SS 
SaveChangesAsyncSS /
(SS/ 0
)SS0 1
;SS1 2
returnTT 
OkTT 
(TT 
orderTT 
)TT  
;TT  !
}UU 
catchVV 
(VV 
	ExceptionVV 
exVV 
)VV  
{WW 
throwXX 
newXX 
	ExceptionXX #
(XX# $
$"XX$ &
{XX& '
nameofXX' -
(XX- .
DeleteAsyncXX. 9
)XX9 :
}XX: ;"
 could not be deleted:XX; Q
{XXQ R
exXXR T
.XXT U
MessageXXU \
}XX\ ]
"XX] ^
)XX^ _
;XX_ `
}YY 
}ZZ 	
[\\ 	
HttpPost\\	 
]\\ 
public]] 
async]] 
Task]] 
<]] 
ActionResult]] &
<]]& '
	OrderInfo]]' 0
>]]0 1
>]]1 2
CreateAsync]]3 >
(]]> ?
	OrderInfo]]? H
order]]I N
)]]N O
{^^ 	
if__ 
(__ 
order__ 
==__ 
null__ 
)__ 
{`` 
throwaa 
newaa !
ArgumentNullExceptionaa /
(aa/ 0
$"aa0 2
{aa2 3
nameofaa3 9
(aa9 :
CreateAsyncaa: E
)aaE F
}aaF G$
 entity must not be nullaaG _
"aa_ `
)aa` a
;aaa b
}bb 
trycc 
{dd 
awaitee 
_contextee 
.ee 
AddAsyncee '
(ee' (
orderee( -
)ee- .
;ee. /
awaitff 
_contextff 
.ff 
SaveChangesAsyncff /
(ff/ 0
)ff0 1
;ff1 2
returngg 
ordergg 
;gg 
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 
throwkk 
newkk 
	Exceptionkk #
(kk# $
$"kk$ &
{kk& '
nameofkk' -
(kk- .
CreateAsynckk. 9
)kk9 :
}kk: ; 
 could not be saved:kk; O
{kkO P
exkkP R
.kkR S
MessagekkS Z
}kkZ [
"kk[ \
)kk\ ]
;kk] ^
}ll 
}mm 	
}nn 
}oo ð	
AD:\Git Repos\Going-Green\OrderTrackingService\Data\DataContext.cs
	namespace 	 
OrderTrackingService
 
. 
Data #
{ 
public 

class 
DataContext 
: 
	DbContext (
{ 
public 
DataContext 
( 
DbContextOptions +
options, 3
)3 4
:5 6
base7 ;
(; <
options< C
)C D
{		 	
}

 	
public 
DataContext 
( 
) 
: 
base #
(# $
)$ %
{ 	
} 	
public 
DbSet 
< 
	OrderInfo 
> 
Orders  &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
} 	
} 
} ÷
]D:\Git Repos\Going-Green\OrderTrackingService\Data\Migrations\20210524090442_InitialCreate.cs
	namespace 	 
OrderTrackingService
 
. 
Data #
.# $

Migrations$ .
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
ID 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Price 
= 
table !
.! "
Column" (
<( )
float) .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
ProductInfo 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= C
,C D
nullableE M
:M N
trueO S
)S T
,T U

ClientInfo 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< B
,B C
nullableD L
:L M
trueN R
)R S
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 0
,0 1
x2 3
=>4 6
x7 8
.8 9
ID9 ;
); <
;< =
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
;  
} 	
} 
} €
CD:\Git Repos\Going-Green\OrderTrackingService\Entities\OrderInfo.cs
	namespace 	 
OrderTrackingService
 
. 
Entities '
{ 
public 

class 
	OrderInfo 
{		 
public

 
Guid

 
ID

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
float 
Price 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ProductInfo !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 

ClientInfo  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} š

8D:\Git Repos\Going-Green\OrderTrackingService\Program.cs
	namespace

 	 
OrderTrackingService


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ¿
8D:\Git Repos\Going-Green\OrderTrackingService\Startup.cs
	namespace

 	 
OrderTrackingService


 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! "
DataContext" -
>- .
(. /
options/ 6
=>7 9
{: ;
options 
. 
	UseSqlite !
(! "
this" &
.& '
Configuration' 4
.4 5
GetConnectionString5 H
(H I
$strI \
)\ ]
)] ^
;^ _
} 
) 
; 
services 
. 
AddCors 
( 
options $
=>% '
{ 
options 
. 
AddDefaultPolicy (
(( )
builder) 0
=>1 3
{ 
builder   
.   
AllowAnyOrigin   *
(  * +
)  + ,
;  , -
builder!! 
.!! 
AllowAnyMethod!! *
(!!* +
)!!+ ,
;!!, -
builder"" 
."" 
AllowAnyHeader"" *
(""* +
)""+ ,
;"", -
}## 
)## 
;## 
}$$ 
)$$ 
;$$ 
services%% 
.%% 
AddControllers%% #
(%%# $
)%%$ %
;%%% &
services&& 
.&& 
AddSwaggerGen&& "
(&&" #
c&&# $
=>&&% '
{'' 
c(( 
.(( 

SwaggerDoc(( 
((( 
$str(( !
,((! "
new((# &
OpenApiInfo((' 2
{((3 4
Title((5 :
=((; <
$str((= L
,((L M
Version((N U
=((V W
$str((X \
}((] ^
)((^ _
;((_ `
})) 
))) 
;)) 
}** 	
public-- 
void-- 
	Configure-- 
(-- 
IApplicationBuilder-- 1
app--2 5
,--5 6
IWebHostEnvironment--7 J
env--K N
)--N O
{.. 	
if// 
(// 
env// 
.// 
IsDevelopment// !
(//! "
)//" #
)//# $
{00 
app11 
.11 %
UseDeveloperExceptionPage11 -
(11- .
)11. /
;11/ 0
}22 
app44 
.44 
UseHttpsRedirection44 #
(44# $
)44$ %
;44% &
app66 
.66 

UseRouting66 
(66 
)66 
;66 
app88 
.88 
UseCors88 
(88 
)88 
;88 
app:: 
.:: 
UseAuthorization::  
(::  !
)::! "
;::" #
app<< 
.<< 
UseEndpoints<< 
(<< 
	endpoints<< &
=><<' )
{== 
	endpoints>> 
.>> 
MapControllers>> (
(>>( )
)>>) *
;>>* +
}?? 
)?? 
;?? 
}@@ 	
}AA 
}BB 